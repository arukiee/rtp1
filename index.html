<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Notification Agent</title>
  </head>
  <body>
    <div id="app">
      <div class="container">
        <header class="header">
          <div class="header-content">
            <div class="logo">
              <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
              </svg>
              <h1>Smart Notification Agent</h1>
            </div>
            <p class="subtitle">AI-powered email analysis and categorization</p>
          </div>
        </header>

        <main class="main">
          <div class="input-section">
            <div class="input-header">
              <h2>Email Content</h2>
              <p>Paste your raw email text below for intelligent analysis</p>
            </div>
            <div class="input-container">
              <textarea 
                id="emailInput" 
                placeholder="Paste your email content here...&#10;&#10;Example:&#10;From: john@company.com&#10;To: team@company.com&#10;Subject: Urgent: Server maintenance tonight&#10;&#10;Hi team,&#10;&#10;We need to perform emergency server maintenance tonight from 11 PM to 3 AM. Please ensure all critical processes are backed up.&#10;&#10;Best regards,&#10;John"
                rows="12"
              ></textarea>
              <div class="input-actions">
                <button id="analyzeBtn" class="analyze-btn">
                  <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                  </svg>
                  Analyze Email
                </button>
                <button id="clearBtn" class="clear-btn">
                  <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3,6 5,6 21,6"/>
                    <path d="M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2"/>
                  </svg>
                  Clear
                </button>
              </div>
            </div>
          </div>

          <div class="results-section" id="resultsSection" style="display: none;">
            <div class="results-header">
              <h2>Analysis Results</h2>
              <div class="results-actions">
                <button id="copyBtn" class="copy-btn">
                  <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5,15H4a2,2 0 0,1-2-2V4a2,2 0 0,1,2-2H15a2,2 0 0,1,2,2v1"/>
                  </svg>
                  Copy Results
                </button>
                <button id="exportBtn" class="export-btn">
                  <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14,2H6A2,2 0 0,0,4,4V20a2,2 0 0,0,2,2H18a2,2 0 0,0,2-2V8Z"/>
                    <polyline points="14,2 14,8 20,8"/>
                    <line x1="16" y1="13" x2="8" y2="13"/>
                    <line x1="16" y1="17" x2="8" y2="17"/>
                    <polyline points="10,9 9,9 8,9"/>
                  </svg>
                  Export to Sheets
                </button>
              </div>
            </div>
            
            <div class="results-grid">
              <div class="result-card summary-card">
                <div class="card-header">
                  <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14,2 14,8 20,8"/>
                    <line x1="16" y1="13" x2="8" y2="13"/>
                    <line x1="16" y1="17" x2="8" y2="17"/>
                    <polyline points="10,9 9,9 8,9"/>
                  </svg>
                  <h3>Summary</h3>
                </div>
                <div class="card-content">
                  <div id="summaryContent" class="summary-text"></div>
                </div>
              </div>

              <div class="result-card category-card">
                <div class="card-header">
                  <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                  </svg>
                  <h3>Category</h3>
                </div>
                <div class="card-content">
                  <div id="categoryContent" class="category-badge"></div>
                </div>
              </div>

              <div class="result-card urgency-card">
                <div class="card-header">
                  <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                  </svg>
                  <h3>Urgency</h3>
                </div>
                <div class="card-content">
                  <div id="urgencyContent" class="urgency-badge"></div>
                </div>
              </div>

              <div class="result-card action-card">
                <div class="card-header">
                  <svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9,11 12,14 22,4"/>
                    <path d="M21,12v7a2,2 0 0,1-2,2H5a2,2 0 0,1-2-2V5a2,2 0 0,1,2-2h11"/>
                  </svg>
                  <h3>Action Required</h3>
                </div>
                <div class="card-content">
                  <div id="actionContent" class="action-badge"></div>
                </div>
              </div>
            </div>

            <div class="formatted-output">
              <h3>Formatted Output</h3>
              <div class="output-container">
                <pre id="formattedOutput" class="formatted-text"></pre>
              </div>
            </div>
          </div>

          <div class="loading-section" id="loadingSection" style="display: none;">
            <div class="loading-spinner">
              <div class="spinner"></div>
              <p>Analyzing email with AI...</p>
            </div>
          </div>
        </main>

        <footer class="footer">
          <p>&copy; 2025 Smart Notification Agent. Powered by AI for intelligent email processing.</p>
        </footer>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>